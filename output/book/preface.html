<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Preface</title>
<link rel="stylesheet" href="./asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<script>var httpRequest = new XMLHttpRequest();
httpRequest.onreadystatechange = function() {
  if (httpRequest.readyState === XMLHttpRequest.DONE) {
    if (httpRequest.status === 200) {
      document.getElementById('header').innerHTML += httpRequest.responseText;
      var subheaders = document.getElementsByClassName('sectlevel2');
      var section;
      for (var i=0; i<subheaders.length; i++) {
        section = subheaders[i];
        if (section.innerHTML.indexOf(window.location.pathname) === -1) {
          section.style.display = 'none';
        } else {
          section.scrollIntoView && section.scrollIntoView();
        }
      }

    }
  }
};
httpRequest.open('GET', 'toc.html');
httpRequest.send();

</script></head>
<body class="article toc2 toc-left">
<div id="buy_the_book" style="position: absolute; top: 0; right: 0; z-index:100">
  <a href="/pages/book.html">
    <img src="images/buy_the_book.svg" alt="buy the book ribbon">
  </a>
</div>
<div id="header">
</div>
<div id="content">
<div class="sect1">
<h2 id="preface">Preface</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This book is my attempt to share with the world the journey I&#8217;ve taken from
"hacking" to "software engineering". It&#8217;s mainly about testing, but there&#8217;s a
lot more to it, as you&#8217;ll soon see.</p>
</div>
<div class="paragraph">
<p>I want to thank you for reading it.</p>
</div>
<div class="paragraph">
<p>If you bought a copy, then I&#8217;m very grateful.  If you&#8217;re reading the free
online version, then I&#8217;m <em>still</em> grateful that you&#8217;ve decided it&#8217;s worth
spending some of your time on. Who knows, perhaps once you get to the end,
you&#8217;ll decide it&#8217;s good enough to buy a real copy for yourself or for a friend.</p>
</div>
<div class="paragraph">
<p>



If you have any comments, questions, or suggestions, I&#8217;d love to hear from you.
You can reach me directly via <a href="mailto:obeythetestinggoat@gmail.com">obeythetestinggoat@gmail.com</a>,
or on Mastodon + Twitter
<a href="https://fosstodon.org/@hjwp">@hjwp</a>.
You can also check out
<a href="http://www.obeythetestinggoat.com">the website and my blog</a>,
and there&#8217;s
<a href="https://groups.google.com/forum/#!forum/obey-the-testing-goat-book">a mailing list</a>.</p>
</div>
<div class="paragraph">
<p>I hope you&#8217;ll enjoy reading this book as much as I enjoyed writing it.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">Third Edition Early Release Information</div>
<div class="paragraph">
<p>If you can see this, you are reading an early release of the third edition,
either via www.obeythetestinggoat.com, or via the O&#8217;Reilly Learning site.
Congratulations!</p>
</div>
<div class="paragraph">
<p>At the time of writing, all of the code listings
in the main book (the chapters up to 25, but not the appendices)
have been updated to Python 3.13 and Django 5.</p>
</div>
<div class="paragraph">
<p>We&#8217;re still in tech review, and many chapters still need a little work,
but the core of the book is there.</p>
</div>
<div class="paragraph">
<p>Thanks for reading, and please do send any and all feedback!
At this early release stage, feedback is more important than ever.
You can reach me via <a href="mailto:obeythetestinggoat@gmail.com">obeythetestinggoat@gmail.com</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_why_i_wrote_a_book_about_test_driven_development">Why I Wrote a Book About Test-Driven Development</h3>
<div class="paragraph">
<p><em>`&#8216;Who are you, why have you written this book, and why should I
read it?&#8217;'</em> I hear you ask.</p>
</div>
<div class="paragraph">
<p>
I was lucky enough, early on in my career, to fall in with a bunch of TDD fanatics,
and it made such a big impact on my programming that I was burning to share it with everyone.
You might say I had the enthusiasm of a recent convert,
and the learning experience was still a recent memory for me,
so that&#8217;s what led to the first edition, back in 2014.</p>
</div>
<div class="paragraph">
<p>When I first learned Python (from Mark Pilgrim&#8217;s excellent <a href="https://diveintopython3.problemsolving.io/"><em>Dive Into Python</em></a>),
I came across the concept of TDD,
and thought &#8220;Yes. I can definitely see the sense in that.&#8221;
Perhaps you had a similar reaction when you first heard about TDD?
It sounds like a really sensible approach,
a really good habit to get into&#8212;&#8203;like regularly flossing your teeth.</p>
</div>
<div class="paragraph">
<p>Then came my first big project,
and you can guess what happened&#8212;&#8203;there was a client,
there were deadlines, there was lots to do,
and any good intentions about TDD went straight out of the window.</p>
</div>
<div class="paragraph">
<p>And, actually, it was fine.  I was fine.</p>
</div>
<div class="paragraph">
<p>At first.</p>
</div>
<div class="paragraph">
<p>At first I knew I didn&#8217;t really need TDD because it was a small website, and I
could easily test whether things worked by just manually checking it out. Click
this link <em>here</em>, choose that drop-down item <em>there</em>, and <em>this</em> should happen.
Easy. This whole writing tests thing sounded like it would have taken <em>ages</em>,
and besides, I fancied myself, from the full height of my three weeks of adult
coding experience, as being a pretty good programmer. I could handle it. Easy.</p>
</div>
<div class="paragraph">
<p>Then came the fearful goddess Complexity. She soon showed me the limits of my
experience.</p>
</div>
<div class="paragraph">
<p>The project grew. Parts of the system started to depend on other parts. I did
my best to follow good principles like DRY (Don&#8217;t Repeat Yourself), but that
just led to some pretty dangerous territory.  Soon I was playing with multiple
inheritance. Class hierarchies eight levels deep. <code>eval</code> statements.</p>
</div>
<div class="paragraph">
<p>I became scared of making changes to my code.
I was no longer sure what depended on what,
and what might happen if I changed this code <em>over here</em>,
oh gosh, I think that bit over there inherits from it&#8212;&#8203;no, it doesn&#8217;t, it&#8217;s overriden.
Oh, but it depends on that class variable.
Right, well, as long as I override the override it should be fine.
I&#8217;ll just check&#8212;&#8203;but checking was getting much harder.
There were lots of sections to the site now,
and clicking through them all manually was starting to get impractical.
Better to leave well enough alone, forget refactoring, just make do.</p>
</div>
<div class="paragraph">
<p>Soon I had a hideous, ugly mess of code. New development became painful.</p>
</div>
<div class="paragraph">
<p>Not too long after this, I was lucky enough to get a job with a company called
Resolver Systems (now <a href="https://www.pythonanywhere.com">PythonAnywhere</a>), where
Extreme Programming (XP) was the norm. They introduced me to rigorous TDD.</p>
</div>
<div class="paragraph">
<p>Although my previous experience had certainly opened my mind to the possible benefits of automated testing,
I still dragged my feet at every stage.
&#8220;I mean, testing in general might be a good idea, but <em>really</em>?  All these tests?
Some of them seem like a total waste of time&#8230;&#8203;
What? Functional tests <em>as well as</em> unit tests?
Come on, that&#8217;s overdoing it! And this TDD test/minimal-code-change/test cycle?
 This is just silly! We don&#8217;t need all these baby steps!
Come on, we can see what the right answer is, why don&#8217;t we just skip to the end?&#8221;</p>
</div>
<div class="paragraph">
<p>Believe me, I second-guessed every rule, I suggested every shortcut,
I demanded justifications for every seemingly pointless aspect of TDD,
and I came out seeing the wisdom of it all.
I&#8217;ve lost count of the number of times I&#8217;ve thought &#8220;Thanks, tests&#8221;,
as a functional test uncovers a regression we would never have predicted,
or a unit test saves me from making a really silly logic error.
Psychologically, it&#8217;s made development a much less stressful process.
It produces code that&#8217;s a pleasure to work with.</p>
</div>
<div class="paragraph">
<p>So, let me tell you <em>all</em> about it!</p>
</div>
</div>
<div class="sect2">
<h3 id="_aims_of_this_book">Aims of This Book</h3>
<div class="paragraph">
<p>My main aim is to impart a methodology&#8212;&#8203;a way of doing web development, which
I think makes for better web apps and happier developers. There&#8217;s not much
point in a book that just covers material you could find by Googling, so this
book isn&#8217;t a guide to Python syntax, or a tutorial on web development <em>per se</em>.
Instead, I hope to teach you how to use TDD to get more reliably to our shared,
holy goal: <em>clean code that works.</em></p>
</div>
<div class="paragraph">
<p>With that said: I will constantly refer to a real practical example, by
building a web app from scratch using tools like Django, Selenium, jQuery,
and Mocks. I&#8217;m not assuming any prior knowledge of any of these, so you
should come out of the other end of this book with a decent introduction to
those tools, as well as the discipline of TDD.</p>
</div>
<div class="paragraph">
<p>In Extreme Programming we always pair-program, so I&#8217;ve imagined writing this
book as if I was pairing with my previous self, having to explain how the
tools work and answer questions about why we code in this particular way. So,
if I ever take a bit of a patronising tone, it&#8217;s because I&#8217;m not all that
smart, and I have to be very patient with myself. And if I ever sound
defensive, it&#8217;s because I&#8217;m the kind of annoying person that systematically
disagrees with whatever anyone else says, so sometimes it takes a lot of
justifying to convince myself of anything.</p>
</div>
</div>
<div class="sect2">
<h3 id="_outline">Outline</h3>
<div class="paragraph">
<p>I&#8217;ve split this book into three parts.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><a href="/book/part1.forbook.html">[part1]</a> (Chapters <a data-type="xref" data-xrefstyle="select:labelnumber" href="/book/chapter_01.html">#chapter_01</a>&#8211;<a data-type="xref" data-xrefstyle="select:labelnumber" href="/book/chapter_07_working_incrementally.html">#chapter_07_working_incrementally</a>): The basics</dt>
<dd>
<p>Dives straight into building a simple web app using TDD. We start by
writing a functional test (with Selenium), and then we go through the basics of
Django&#8212;&#8203;models, views, templates&#8212;&#8203;with rigorous unit testing at every
stage. I also introduce the Testing Goat.</p>
</dd>
<dt class="hdlist1"><a href="/book/part2.forbook.html">[part2]</a> (Chapters <a data-type="xref" data-xrefstyle="select:labelnumber" href="/book/chapter_08_prettification.html">#chapter_08_prettification</a>&#8211;<a data-type="xref" data-xrefstyle="select:labelnumber" href="/book/chapter_18_second_deploy.html">#chapter_18_second_deploy</a>): Web development essentials</dt>
<dd>
<p>Covers some of the trickier but unavoidable aspects of web development, and
shows how testing can help us with them: static files, deployment to
production, form data validation, database migrations, and the dreaded
JavaScript.</p>
</dd>
<dt class="hdlist1"><a href="/book/part3.forbook.html">[part3]</a> (Chapters <a data-type="xref" data-xrefstyle="select:labelnumber" href="/book/chapter_19_spiking_custom_auth.html">#chapter_19_spiking_custom_auth</a>&#8211;<a data-type="xref" data-xrefstyle="select:labelnumber" href="/book/chapter_27_hot_lava.html">#chapter_27_hot_lava</a>): More advanced testing topics</dt>
<dd>
<p>Mocking, integrating a third-party system, test fixtures, Outside-In TDD,
and Continuous Integration (CI).</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>On to a little housekeeping&#8230;&#8203;</p>
</div>
</div>
<div class="sect2">
<h3 id="_conventions_used_in_this_book">Conventions Used in This Book</h3>
<div class="paragraph">
<p>The
following typographical conventions are used in this book:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Italic</em></dt>
<dd>
<p>Indicates new terms, URLs, email addresses, filenames, and file
extensions.</p>
</dd>
<dt class="hdlist1"><code>Constant width</code></dt>
<dd>
<p>Used for program listings, as well as within paragraphs to
refer to program elements such as variable or function names, databases, data
types, environment variables, statements, and keywords.</p>
</dd>
<dt class="hdlist1"><code><strong>Constant width bold</strong></code></dt>
<dd>
<p>Shows commands or other text that should be typed
literally by the user.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Occasionally I will use the symbol:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[...]</pre>
</div>
</div>
<div class="paragraph">
<p>to signify that some of the content has been skipped, to shorten long bits of
output, or to skip down to a relevant section.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
This element signifies a tip or suggestion.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This element signifies a general note or aside.
</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This element indicates a warning or caution.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_submitting_errata">Submitting Errata</h3>
<div class="paragraph">
<p>Spotted
a mistake or a typo?  The sources for this book are available on
GitHub, and I&#8217;m always very happy to receive issues and pull requests:
<a href="https://github.com/hjwp/Book-TDD-Web-Dev-Python/" class="bare">https://github.com/hjwp/Book-TDD-Web-Dev-Python/</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_code_examples">Using Code Examples</h3>
<div class="paragraph">
<p>Code
examples are available at <a href="https://github.com/hjwp/book-example/" class="bare">https://github.com/hjwp/book-example/</a>; you&#8217;ll
find branches for each chapter there (e.g.,
<a href="https://github.com/hjwp/book-example/tree/chapter_03_unit_test_first_view" class="bare">https://github.com/hjwp/book-example/tree/chapter_03_unit_test_first_view</a>).
You&#8217;ll find a full list, and some suggestions on ways of working with this
repository, in <a href="/book/appendix_github_links.html">[appendix_github_links]</a>.</p>
</div>
<div class="paragraph">
<p>This book is here to help you get your job done. In general, if example code is offered with this book, you may use it in your programs and documentation. You do not need to contact us for permission unless you&#8217;re reproducing a significant portion of the code. For example, writing a program that uses several chunks of code from this book does not require permission. Selling or distributing examples from O&#8217;Reilly books does require permission. Answering a question by citing this book and quoting example code does not require permission. Incorporating a significant amount of example code from this book into your product&#8217;s documentation does require permission.</p>
</div>
<div class="paragraph">
<p>We appreciate, but do not require, attribution. An attribution usually includes
the title, author, publisher, and ISBN. For example: &#8220;<em>Test-Driven Development with Python</em>, 3rd edition, by Harry J.W. Percival (O&#8217;Reilly). Copyright 2024 Harry Percival, 978-1-098-14871-3.&#8221;</p>
</div>
<div class="paragraph">
<p>If you feel your use of code examples falls outside fair use or the permission
given above, feel free to contact us at <a class="email" href="mailto:permissions@oreilly.com"><em>permissions@oreilly.com</em></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_oreilly_online_learning">O&#8217;Reilly Online Learning</h3>
<div class="admonitionblock note ormenabled">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For more than 40 years, <a href="https://oreilly.com" class="orm:hideurl"><em class="hyperlink">O&#8217;Reilly Media</em></a> has provided technology and business training, knowledge, and insight to help companies succeed.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Our unique network of experts and innovators share their knowledge and expertise through books, articles, and our online learning platform. O&#8217;Reilly&#8217;s online learning platform gives you on-demand access to live training courses, in-depth learning paths, interactive coding environments, and a vast collection of text and video from O&#8217;Reilly and 200+ other publishers. For more information, visit <a href="https://oreilly.com" class="orm:hideurl"><em>https://oreilly.com</em></a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_contact_us">How to Contact Us</h3>
<div class="paragraph">
<p>Please address comments and questions concerning this book to the publisher:</p>
</div>
<ul class="simplelist">
  <li>O&#8217;Reilly Media, Inc.</li>
  <li>1005 Gravenstein Highway North</li>
  <li>Sebastopol, CA 95472</li>
  <li>800-889-8969 (in the United States or Canada)</li>
  <li>707-829-7019 (international or local)</li>
  <li>707-829-0104 (fax)</li>
  <li><a class="email" href="mailto:support@oreilly.com"><em>support@oreilly.com</em></a></li>
  <li><a href="https://www.oreilly.com/about/contact.html"><em>https://www.oreilly.com/about/contact.html</em></a></li>
</ul>
<div class="paragraph">
<p>We have a web page for this book, where we list errata, examples, and any additional information. You can access this page at <a href="https://learning.oreilly.com/library/view/~/9781098148706" class="bare">https://learning.oreilly.com/library/view/~/9781098148706</a>.</p>
</div>
<!--Don't forget to update the link above.-->
<div class="paragraph">
<p>For news and information about our books and courses, visit <a href="https://oreilly.com" class="bare">https://oreilly.com</a>.</p>
</div>
<div class="paragraph">
<p>Find us on LinkedIn: <a href="https://linkedin.com/company/oreilly-media" class="bare">https://linkedin.com/company/oreilly-media</a></p>
</div>
<div class="paragraph">
<p>Follow us on Twitter: <a href="https://twitter.com/oreillymedia" class="bare">https://twitter.com/oreillymedia</a></p>
</div>
<div class="paragraph">
<p>Watch us on YouTube: <a href="https://youtube.com/oreillymedia" class="bare">https://youtube.com/oreillymedia</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_license_for_the_free_edition">License for the free edition</h3>
<div class="paragraph">
<p>If you&#8217;re reading the free edition of this book hosted at <a href="http://www.obeythetestinggoat.com" class="bare">http://www.obeythetestinggoat.com</a>,
then the license is
<a href="https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode">Creative Commons Attribution-NonCommercial-NoDerivatives</a>
<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>.
I want to thank O&#8217;Reilly for their fantastic attitude towards
licensing, most publishers aren&#8217;t so forward-thinking.</p>
</div>
<div class="paragraph">
<p>I see this as a "try-before-you-buy" scheme really. If you&#8217;re reading this book
it&#8217;s for professional reasons, so I hope that if you like it, you&#8217;ll buy a
copy&#8212;&#8203;if not for yourself, then for a friend!   O&#8217;Reilly have been great, they
deserve your support.  You&#8217;ll find <a href="http://www.obeythetestinggoat.com/">links to
buy back on the homepage</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. (The no-derivs clause is there because O&#8217;Reilly want to maintain some control over derivative works, but they often do grant permissions for things, so don&#8217;t hesitate to get in touch if you want to build something based on this book.)
</div>
</div>
<div id="footer">
<div id="footer-text">
License: Creative Commons <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/legalcode">CC-BY-NC-ND</a>. Last updated: 2024-10-13 21:05:14 +0100
</div>
</div>
<div class="comments" style="padding: 20px">
  <h3>Comments</h3>
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    var disqus_config = function () {
        this.page.identifier = 'preface';
    };
    
    (function() {
        var d = document, s = d.createElement('script');
        s.src = '//obeythetestinggoat.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>

<html><head><script>   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');    ga('create', 'UA-40928035-1', 'obeythetestinggoat.com');   ga('send', 'pageview');  </script>
</head></html></body>
</html>