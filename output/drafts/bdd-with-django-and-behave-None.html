<!DOCTYPE html>
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<html lang="en">
<head>
    <meta charset="utf-8" />
        <!-- Set the viewport width to device width for mobile -->
        <meta name="viewport" content="width=device-width" />
        <title>Obey the Testing Goat!</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="/static/css/normalize.css">
        <link rel="stylesheet" href="/static/css/pygments.css">
        <link rel="stylesheet" href="/static/css/extra.css">
        <link rel="stylesheet" href="/static/css/foundation.css">
        <link href='http://fonts.googleapis.com/css?family=Life+Savers:400,700|Sanchez:400,400italic|Ovo' rel='stylesheet' type='text/css'>


        <link rel="stylesheet" href="/static/css/social_foundicons.css">
        <!--[if lt IE 8]>
            <link rel="stylesheet" href="stylesheets/social_foundicons_ie7.css">
        <![endif]-->


        <link href="http://www.obeythetestinggoat.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Obey the Testing Goat! Full Atom Feed" />
        <link href="http://www.obeythetestinggoat.com/feeds/misc.atom.xml" type="application/atom+xml" rel="alternate" title="Obey the Testing Goat! Categories Atom Feed" />
</head>

<body>
    <header class="row">
        <div class="large-12 columns">
            <div class="row">
                <span class="right"><a href="http://www.obeythetestinggoat.com/feeds/all.atom.xml" type="application/rss+xml"><i class="social foundicon-rss"></i> RSS</a></span>
                <div class="large-2 columns">
                    <a href="http://www.obeythetestinggoat.com"><img src="/static/images/kid_goat.png" alt="The Testing Goat" title="The Testing Goat" /></a>
                </div>
                <div class="large-10 columns">
                    <h1>Obey the Testing Goat!</h1>
                    <h2><small><em>TDD for the Web, with Python, Selenium, Django, JavaScript and pals...</em></small></h2>
                </div>
            </div>
        </div>
    </header> <!-- end top banner -->

<div class="row">
    <div class="large-9 small-12 columns"> <!-- blog post div -->
        <header>
            <h2><a href="drafts/bdd-with-django-and-behave-None.html" rel="bookmark" title="Permalink to BDD with Django and Behave">BDD with Django and Behave</a></h2>

             

        </header>
        <footer class="post-info">
            <abbr class="published" title="2014-10-24T20:30:00">
              Fri 24 October 2014
            </abbr>
                <address class="vcard author">
                  By <a class="url fn" href="http://www.obeythetestinggoat.com/author/harry.html">Harry</a>
                </address>
        </footer><!-- /.post-info -->

        <div>
            <div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>This blog post is a first draft of a planned appendix for my
<a href="http://www.obeythetestinggoat.com/book.html">book</a>.  It&#8217;s a whirlwind tour of
BDD, and I&#8217;d appreciate any feedback&#8201;&#8212;&#8201;from existing readers or anyone coming
across the post randomly, does it work well as an intro to BDD?  From
experienced BDDers, have I presented any heinous examples of bad practice? Stop
me before I print it on dead trees!</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_what_is_bdd">What is BDD?</h2>
<div class="sectionbody">
<div class="paragraph"><p>BDD, <em>strictly</em> speaking, is a methodology rather than a toolset&#8201;&#8212;&#8201;it&#8217;s the
approach of testing your application by testing the behaviour that we expect it
to display to a user (the
<a href="https://en.wikipedia.org/wiki/Behavior-driven_development">wikipedia</a> entry
has quite a good overview). So, in some ways, the selenium-based FTs that I&#8217;ve shown
in the rest of the book could be called BDD.</p></div>
<div class="paragraph"><p>But the term has become closely associated with a particular set of tools for
doing BDD, most importantly the
<a href="https://github.com/cucumber/cucumber/wiki/Gherkin">Gherkin syntax</a>, which is a
human-readable DSL for writing functional (or acceptance) tests. Gherkin
originally came out of the Ruby world, where it&#8217;s associated with a test runner
called <a href="http://cukes.info/">Cucumber</a>.</p></div>
<div class="paragraph"><p>In the Python world, we have a couple of equivalent test running tools,
<a href="http://lettuce.it/">Lettuce</a> and <a href="http://pythonhosted.org/behave/">Behave</a>.
Of these, only Behave is compatible with Python 3, so that&#8217;s what we&#8217;ll use.
We&#8217;ll also use a plugin called
<a href="https://github.com/django-behave/django-behave">django-behave</a> (thanks to
the excellent Rachel Willmer!)</p></div>
<div class="sect2">
<h3 id="_getting_the_code_for_these_examples">Getting the code for these examples</h3>
<div class="paragraph"><p>I&#8217;m going to use the example from
<a href="http://chimera.labs.oreilly.com/books/1234000000754/ch18.html">chapter 18 of my
book</a>. We have a basic to-do lists site, and we want to add a new feature:
logged-in users should be able to view the lists they&#8217;ve authored in one place.
Up until this point, all lists are effectively anonymous.</p></div>
<div class="paragraph"><p>If you&#8217;ve been following along with the book, I&#8217;m going to assume you can skip
back to the code for that point.  If you want to pull it from my repo, the
place to go is the
<a href="https://github.com/hjwp/book-example/tree/chapter_17">chapter_17 branch</a>.</p></div>
</div>
<div class="sect2">
<h3 id="_basic_housekeeping">Basic housekeeping</h3>
<div class="paragraph"><p>We make a module for our BDD tests:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>$ <strong>mkdir bdd_tests</strong>
$ <strong>touch bdd_tests/<em>init</em>.py</strong>
$ <strong>touch bdd_tests/models.py</strong></pre>
</div></div>
<div class="paragraph"><p>Add a steps and a features directory (we&#8217;ll find out what those are shortly!),
and placeholder for our first feature:</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>$ <strong>mkdir -p bdd_tests/features/steps</strong>
$ <strong>touch bdd_tests/features/my_lists.feature</strong>
$ <strong>touch bdd_tests/features/steps/my_lists.py</strong>
$ <strong>tree bdd_tests</strong>
bdd_tests
├── features
│   └── my_lists.feature
│   └── steps
│       └── my_lists.py
├── <em>init</em>.py
└── models.py</pre>
</div></div>
<div class="paragraph"><p>And then run "behave" as a sanity-check</p></div>
<div class="listingblock">
<div class="content monospaced">
<pre>$ <strong>behave bdd_tests</strong>
0 features passed, 0 failed, 0 skipped
0 scenarios passed, 0 failed, 0 skipped
0 steps passed, 0 failed, 0 skipped, 0 undefined
Took 0m0.000s</pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_writing_an_ft_as_a_feature_using_gherkin_syntax">Writing an FT as a "Feature" using Gherkin syntax</h3>
<div class="paragraph"><p>Up until now, we&#8217;ve been writing our FTs using human-readable comments
that describe the new feature in terms of a user story, interspersed
with the selenium code required to execute each step in the story.</p></div>
<div class="paragraph"><p>BDD enforces a distinction between those two&#8201;&#8212;&#8201;we write our human-readable
story using a human-readable (if occasionally somewhat awkward) syntax
called "Gherkin", and that is called the "Feature".  Later, we&#8217;ll map
each line of gherkin to a function that contains the selenium code necessary
to implement that "step".</p></div>
<div class="paragraph"><p>Here&#8217;s what a Feature for our new "My lists" page could look like:</p></div>
<div class="listingblock sourcecode">
<div class="title">bdd_tests/features/my_lists.feature</div>
<div class="content"><div class="highlight"><pre><span class="k">Feature:</span><span class="nf"> My Lists</span>
<span class="nf">    As a logged-in user</span>
<span class="nf">    I want to be able to see all my lists in one page</span>
<span class="nf">    So that I can find them all afer I&#39;ve written them</span>

<span class="nf">    </span><span class="k">Scenario:</span><span class="nf"> Create two lists and see them on the My Lists page</span>

<span class="k">        Given </span><span class="nf">I am a logged-in user</span>

<span class="nf">        </span><span class="k">When </span><span class="nf">I create a list with first item &quot;</span><span class="s">Reticulate Splines</span><span class="nf">&quot;</span>
<span class="nf">            </span><span class="k">And </span><span class="nf">I add an item &quot;</span><span class="s">Immanentize Eschaton</span><span class="nf">&quot;</span>
<span class="nf">            </span><span class="k">And </span><span class="nf">I create a list with first item &quot;</span><span class="s">Buy milk</span><span class="nf">&quot;</span>

<span class="nf">        </span><span class="k">Then </span><span class="nf">I will see a link to &quot;</span><span class="s">My lists</span><span class="nf">&quot;</span>

<span class="nf">        </span><span class="k">When </span><span class="nf">I click the link to &quot;</span><span class="s">My lists</span><span class="nf">&quot;</span>
<span class="nf">        </span><span class="k">Then </span><span class="nf">I will see a link to &quot;</span><span class="s">Reticulate Splines</span><span class="nf">&quot;</span>
<span class="nf">        </span><span class="k">And </span><span class="nf">I will see a link to &quot;</span><span class="s">Buy milk</span><span class="nf">&quot;</span>

<span class="nf">        </span><span class="k">When </span><span class="nf">I click the link to &quot;</span><span class="s">Reticulate Splines</span><span class="nf">&quot;</span>
<span class="nf">        </span><span class="k">Then </span><span class="nf">I will be on the &quot;</span><span class="s">Reticulate Splines</span><span class="nf">&quot; list page</span>
</pre></div></div></div>
<div class="sect3">
<h4 id="_as_a_i_want_to_so_that">As-a / I want to / So that</h4>
<div class="paragraph"><p>At the top you&#8217;ll notice the As-a / I want to / So that clause.  This is
optional, and it has no executable counterpart&#8201;&#8212;&#8201;it&#8217;s just a slightly
formalised way of capturing the "Who and Why?" aspects of a user story,
gently encouraging the team to think about the justifications for each
feature.</p></div>
</div>
<div class="sect3">
<h4 id="_given_when_then">Given / When / Then</h4>
<div class="paragraph"><p>Given/When/Then is the real core of a BDD test.  This tripartite formulation
matches the setup/exercise/assert pattern we&#8217;ve seen in our unit tests, and
it represents the setup and assumptions phase, an exercise/action phase, and
a subsequent assertion/observation phase.  There&#8217;s more info on the
<a href="https://github.com/cucumber/cucumber/wiki/Given-When-Then">cucumber wiki</a>.</p></div>
</div>
<div class="sect3">
<h4 id="_not_always_a_perfect_fit">Not always a perfect fit!</h4>
<div class="paragraph"><p>As you can see, it&#8217;s not always easy to shoe-horn a user story into exactly
three steps!  We can use the <span class="monospaced">And</span> clause to expand on a step, and I&#8217;ve
added multiple When steps and subsequent Thens to illustrate further aspects
of our My lists page.</p></div>
<div class="paragraph"><p>In this human-readable syntax, each line (which begins with "Given", "And",
"When" or "Then") is a step, and it will be implemented in code using a step
function.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_coding_the_step_functions">Coding the step functions</h3>
<div class="paragraph"><p>We now build the counterpart to our Gherkin-syntax feature, which are the
"step" functions which will actually implement them in code.</p></div>
<div class="sect3">
<h4 id="_generating_placeholder_steps">Generating placeholder steps</h4>
<div class="paragraph"><p>When we run "behave", it helpfully tells us about all the steps we need to
implement:</p></div>
<div class="listingblock sourcecode small-code">
<div class="content monospaced">
<pre>$ <strong>behave bdd_tests</strong>
Feature: My Lists # bdd_tests/features/my_lists.feature:1

  Scenario:                                                   # bdd_tests/features/my_lists.feature:2
    Given I am a logged-in user                               # None
    When I create a list with first item "Reticulate Splines" # None
    And I add an item "Immanentize Eschaton"                  # None
    And I create a list with first item "Buy milk"            # None
    Then I will see a link to "My lists"                      # None
    When I click the link to "My lists"                       # None
    Then I will see a link to "Reticulate Splines"            # None
    And I will see a link to "Buy milk"                       # None
    When I click the link to "Reticulate Splines"             # None
    Then I will be on the "Reticulate Splines" list page      # None


Failing scenarios:
  bdd_tests/features/my_lists.feature:2

0 features passed, 1 failed, 0 skipped
0 scenarios passed, 1 failed, 0 skipped
0 steps passed, 0 failed, 0 skipped, 10 undefined
Took 0m0.000s

You can implement step definitions for undefined steps with these snippets:

@given(<em>I am a logged-in user</em>)
def step_impl(context):
    assert False

@when(<em>I create a list with first item "Reticulate Splines"</em>)
def step_impl(context):
    assert False

@when(<em>I add an item "Immanentize Eschaton"</em>)
def step_impl(context):
    assert False

[...]</pre>
</div></div>
<div class="paragraph"><p>It&#8217;s encouraging us to copy and paste these snippets, and use them as
starting points to build our steps.</p></div>
</div>
</div>
<div class="sect2">
<h3 id="_first_step_definition">First step definition</h3>
<div class="paragraph"><p>Here&#8217;s a first stab at making a step for our "Given I am a logged-in user"
step. I started by stealing the code for <span class="monospaced">create_pre_authenticated_session</span>
from <em>functional_tests/test_my_lists.py</em>, and adapting it slightly (removing
the server-side version, for example, although it would be easy to re-add
later).</p></div>
<div class="listingblock sourcecode">
<div class="title">bdd_tests/features/steps/my_lists.py</div>
<div class="content"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">behave</span> <span class="kn">import</span> <span class="n">given</span><span class="p">,</span> <span class="n">when</span><span class="p">,</span> <span class="n">then</span><span class="p">,</span> <span class="n">step</span>
<span class="kn">from</span> <span class="nn">functional_tests.management.commands.create_session</span> <span class="kn">import</span> <span class="n">create_pre_authenticated_session</span>
<span class="kn">from</span> <span class="nn">django.conf</span> <span class="kn">import</span> <span class="n">settings</span>


<span class="nd">@given</span><span class="p">(</span><span class="s">&#39;I am a logged-in user&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">given_i_am_logged_in</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="n">session_key</span> <span class="o">=</span> <span class="n">create_pre_authenticated_session</span><span class="p">(</span><span class="n">email</span><span class="o">=</span><span class="s">&#39;edith@example.com&#39;</span><span class="p">)</span>
    <span class="c">## to set a cookie we need to first visit the domain.</span>
    <span class="c">## 404 pages load the quickest!</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">server_url</span> <span class="o">+</span> <span class="s">&quot;/404_no_such_url/&quot;</span><span class="p">)</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">add_cookie</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">settings</span><span class="o">.</span><span class="n">SESSION_COOKIE_NAME</span><span class="p">,</span>
        <span class="n">value</span><span class="o">=</span><span class="n">session_key</span><span class="p">,</span>
        <span class="n">path</span><span class="o">=</span><span class="s">&#39;/&#39;</span><span class="p">,</span>
    <span class="p">))</span>
</pre></div></div></div>
<div class="paragraph"><p>The <em>context</em> variable needs a little explaining&#8201;&#8212;&#8201;it&#8217;s a sort of global
variable, in the sense that it&#8217;s passed to each step that&#8217;s executed, and it
can be used to store information that we need to share between steps. Here
we&#8217;ve assumed we&#8217;ll be storing a browser object on it, and the <span class="monospaced">server_url</span>.
We end up using it a lot like we used <span class="monospaced">self</span> when we were writing <span class="monospaced">unittest</span>
FTs.</p></div>
</div>
<div class="sect2">
<h3 id="_setup_and_teardown_equivalents_in_environment_py">setUp and tearDown equivalents in environment.py</h3>
<div class="paragraph"><p>Steps can make changes to state in the <span class="monospaced">context</span>, but the place to do
preliminary set-up, the equivalent of <span class="monospaced">setUp</span>, is in a file called
<em>environment.py</em>:</p></div>
<div class="listingblock sourcecode">
<div class="title">bdd_tests/features/environment.py</div>
<div class="content"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>

<span class="k">def</span> <span class="nf">before_all</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Firefox</span><span class="p">()</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">implicitly_wait</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">context</span><span class="o">.</span><span class="n">server_url</span> <span class="o">=</span> <span class="s">&#39;http://localhost:8081&#39;</span>

<span class="k">def</span> <span class="nf">after_all</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">before_feature</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">feature</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div></div></div>
<div class="paragraph"><p>And now we switch to the django-behave test runner:</p></div>
<div class="listingblock sourcecode small-code">
<div class="content monospaced">
<pre>$ <strong>python manage.py test bdd_tests --testrunner=django_behave.runner.DjangoBehaveTestSuiteRunner</strong>
Creating test database for alias <em>default</em>...
Feature: My Lists # bdd_tests/features/my_lists.feature:1

  Scenario:                                                   # bdd_tests/features/my_lists.feature:2
    Given I am a logged-in user                               # bdd_tests/features/steps/my_lists.py:7
    Given I am a logged-in user                               # bdd_tests/features/steps/my_lists.py:7 0.379s
    When I create a list with first item "Reticulate Splines" # bdd_tests/features/steps/my_lists.py:20 0.001s
      Traceback (most recent call last):
        File "/home/harry/.virtualenvs/superlists/lib/python3.4/site-packages/behave/model.py", line 1173, in run
          match.run(runner.context)
        File "/home/harry/.virtualenvs/superlists/lib/python3.4/site-packages/behave/model.py", line 1589, in run
          self.func(context, *args, **kwargs)
        File "bdd_tests/features/steps/my_lists.py", line 22, in step_impl
          assert False
      AssertionError
[...]</pre>
</div></div>
<div class="paragraph"><p>And you&#8217;ll notice all this output is nicely coloured, as in <a href="#behave-output">[behave-output]</a>:</p></div>
<div class="imageblock" id="behave-output">
<div class="content">
<img src="images/behave-output-colour.png" alt="Colourful console output">
</div>
<div class="title">Figure 1. Behave with coloured console ouptut</div>
</div>
<div class="paragraph"><p>That seems to have made it through the first step, let&#8217;s define up the rest of
them.</p></div>
</div>
<div class="sect2">
<h3 id="_capturing_parameters_in_steps">Capturing parameters in steps</h3>
<div class="paragraph"><p>We&#8217;ll see how behave allows you to capture parameters from step descriptions.
Our next step says:</p></div>
<div class="listingblock sourcecode">
<div class="title">bdd_tests/features/my_lists.feature</div>
<div class="content"><div class="highlight"><pre><span class="nf">    </span><span class="k">And </span><span class="nf">I create a list with first item &quot;</span><span class="s">Reticulate Splines</span><span class="nf">&quot;</span>
</pre></div></div></div>
<div class="paragraph"><p>And the auto-generated step definition looked like this</p></div>
<div class="listingblock sourcecode currentcontents">
<div class="title">bdd_tests/features/steps/test_my_lists.py</div>
<div class="content"><div class="highlight"><pre><span class="nd">@given</span><span class="p">(</span><span class="s">&#39;I create a list with first item &quot;Reticulate Splines&quot;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">step_impl</span><span class="p">(</span><span class="n">context</span><span class="p">):</span>
    <span class="k">assert</span> <span class="bp">False</span>
</pre></div></div></div>
<div class="paragraph"><p>We want to be able to create lists with arbitrary first items, so it would be
nice to somehow capture whatever is between those quotes, and pass them in as
an argument to a more generic function.  That&#8217;s a common requirement in BDD,
and behave has a nice syntax for it, reminiscent of the new-style Python string
formatting syntax:</p></div>
<div class="listingblock sourcecode">
<div class="title">bdd_tests/features/steps/test_my_lists.py</div>
<div class="content"><div class="highlight"><pre><span class="nd">@when</span><span class="p">(</span><span class="s">&#39;I create a list with first item &quot;{first_item_text}&quot;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">create_a_list</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">first_item_text</span><span class="p">):</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">server_url</span><span class="p">)</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_text&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">first_item_text</span><span class="p">)</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_text&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
</pre></div></div></div>
<div class="paragraph"><p>Neat huh?</p></div>
<div class="paragraph"><p>Similarly, we can do adding to an existing list, and see or click on links:</p></div>
<div class="listingblock sourcecode">
<div class="title">bdd_tests/features/steps/test_my_lists.py</div>
<div class="content"><div class="highlight"><pre><span class="nd">@when</span><span class="p">(</span><span class="s">&#39;I add an item &quot;{item_text}&quot;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">add_an_item</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">item_text</span><span class="p">):</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_text&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">item_text</span><span class="p">)</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_text&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

<span class="nd">@then</span><span class="p">(</span><span class="s">&#39;I will see a link to &quot;{link_text}&quot;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">see_a_link</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">link_text</span><span class="p">):</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="n">link_text</span><span class="p">)</span>

<span class="nd">@when</span><span class="p">(</span><span class="s">&#39;I click the link to &quot;{link_text}&quot;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">click_link</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">link_text</span><span class="p">):</span>
    <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="n">link_text</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
</pre></div></div></div>
<div class="paragraph"><p>And finally the slightly more complex step that says I am on the
page for a particular list:</p></div>
<div class="listingblock sourcecode">
<div class="title">bdd_tests/features/steps/test_my_lists.py</div>
<div class="content"><div class="highlight"><pre><span class="nd">@then</span><span class="p">(</span><span class="s">&#39;I will be on the &quot;{first_item_text}&quot; list page&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">step_impl</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">first_item_text</span><span class="p">):</span>
    <span class="n">table</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_list_table&#39;</span><span class="p">)</span>
    <span class="n">rows</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">find_elements_by_tag_name</span><span class="p">(</span><span class="s">&#39;tr&#39;</span><span class="p">)</span>
    <span class="n">expected_row_text</span> <span class="o">=</span> <span class="s">&#39;1: &#39;</span> <span class="o">+</span> <span class="n">first_item_text</span>
    <span class="k">assert</span> <span class="n">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span> <span class="o">==</span> <span class="n">expected_row_text</span>
</pre></div></div></div>
<div class="paragraph"><p>Now we can run it and see our first expected failure:</p></div>
<div class="listingblock sourcecode small-code">
<div class="content monospaced">
<pre>$ <strong>python manage.py test bdd_tests --testrunner=django_behave.runner.DjangoBehaveTestSuiteRunner</strong>
Creating test database for alias 'default'...
Feature: My Lists # bdd_tests/features/my_lists.feature:1
  As a logged-in user
  I want to be able to see all my lists in one page
  So that I can find them all afer I've written them
  Scenario: Create two lists and see them on the My Lists page  # bdd_tests/features/my_lists.feature:6
    Given I am a logged-in user                                 # bdd_tests/features/steps/my_lists.py:7
    Given I am a logged-in user                                 # bdd_tests/features/steps/my_lists.py:7 0.191s
    When I create a list with first item "Reticulate Splines"   # bdd_tests/features/steps/my_lists.py:20 2.130s
    And I add an item "Immanentize Eschaton"                    # bdd_tests/features/steps/my_lists.py:27 0.906s
    And I create a list with first item "Buy milk"              # bdd_tests/features/steps/my_lists.py:20 0.881s
    Then I will see a link to "My lists"                        # bdd_tests/features/steps/my_lists.py:33 2.169s
      Traceback (most recent call last):
        [...]
      selenium.common.exceptions.NoSuchElementException: Message: 'Unable to
        locate element: {"method":"link text","selector":"My lists"}' ;
        Stacktrace: [...]

      Captured logging:
      WARNING:django.request:Not Found: /404_no_such_url/
      WARNING:django.request:Not Found: /favicon.ico
      WARNING:django.request:Not Found: /favicon.ico

    When I click the link to "My lists"                         # None
    Then I will see a link to "Reticulate Splines"              # None
    And I will see a link to "Buy milk"                         # None
    When I click the link to "Reticulate Splines"               # None
    Then I will be on the "Reticulate Splines" list page        # None

Failing scenarios:
  bdd_tests/features/my_lists.feature:6  Create two lists and see them on the My Lists page

0 features passed, 1 failed, 0 skipped
0 scenarios passed, 1 failed, 0 skipped
4 steps passed, 1 failed, 5 skipped, 0 undefined</pre>
</div></div>
<div class="paragraph"><p>We manage to create our two lists successfully, but the "My lists" link does
not appear.</p></div>
</div>
<div class="sect2">
<h3 id="_comparing_the_inline_style_ft">Comparing the inline-style FT</h3>
<div class="paragraph"><p>I&#8217;m not going to run through the implementation of the feature, but you can
see how the test will drive development just as well as the inline-style FT
would have.</p></div>
<div class="paragraph"><p>Let&#8217;s have a look at it, for comparison:</p></div>
<div class="listingblock sourcecode">
<div class="title">lists/tests.py</div>
<div class="content"><div class="highlight"><pre><span class="k">def</span> <span class="nf">test_logged_in_users_lists_are_saved_as_my_lists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="c"># Edith is a logged-in user</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">create_pre_authenticated_session</span><span class="p">(</span><span class="s">&#39;edith@example.com&#39;</span><span class="p">)</span>

    <span class="c"># She goes to the home page and starts a list</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_url</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">get_item_input_box</span><span class="p">()</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;Reticulate splines</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">get_item_input_box</span><span class="p">()</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;Immanentize eschaton</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="n">first_list_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">current_url</span>

    <span class="c"># She notices a &quot;My lists&quot; link, for the first time.</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s">&#39;My lists&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>

    <span class="c"># She sees that her list is in there, named according to its</span>
    <span class="c"># first list item</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s">&#39;Reticulate splines&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">current_url</span><span class="p">,</span> <span class="n">first_list_url</span><span class="p">)</span>

    <span class="c"># She decides to start another list, just to see</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">server_url</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">get_item_input_box</span><span class="p">()</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="s">&#39;Click cows</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="n">second_list_url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">current_url</span>

    <span class="c"># Under &quot;my lists&quot;, her new list appears</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s">&#39;My lists&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_link_text</span><span class="p">(</span><span class="s">&#39;Click cows&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">current_url</span><span class="p">,</span> <span class="n">second_list_url</span><span class="p">)</span>

    <span class="c"># She logs out.  The &quot;My lists&quot; option disappears</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="s">&#39;id_logout&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">click</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_elements_by_link_text</span><span class="p">(</span><span class="s">&#39;My lists&#39;</span><span class="p">),</span>
        <span class="p">[]</span>
    <span class="p">)</span>
</pre></div></div></div>
<div class="paragraph"><p>That&#8217;s 34 lines of code, to which we should add the 10 lines from
<span class="monospaced">create_pre_authenticated_session</span>, and 2 from <span class="monospaced">get_item_input_box</span>. That
compares pretty well with the 20 lines from the feature file (bearing in mind 3
of them were optional) and 40-odd lines in our steps file.  So in terms of
boilerplate/terseness, there&#8217;s not much in it.</p></div>
</div>
<div class="sect2">
<h3 id="_bdd_encourages_structured_test_code">BDD encourages structured test code</h3>
<div class="paragraph"><p>The real appeal, for me, is that the BDD tool has forced us to structure our
test code.  In the inline-style FT, we&#8217;re free to use as many lines as we want
to implement a step, as described by its comment line.  It&#8217;s very hard to
resist the urge to just copy+paste code from elsewhere, or just from earlier
on in the test.   You can see that, by this point in the book, I&#8217;ve built
just a couple of helper functions (like <span class="monospaced">get_item_input_box</span>).</p></div>
<div class="paragraph"><p>In contrast, the BDD syntax has immediately forced me to have a separate function for
each step, so I&#8217;ve already built some very reusable code to:</p></div>
<div class="ulist"><ul>
<li>
<p>
Start a new list
</p>
</li>
<li>
<p>
Add an item to an existing list
</p>
</li>
<li>
<p>
Click a on a link with particular text
</p>
</li>
<li>
<p>
Assert that I&#8217;m looking at a particular list&#8217;s page
</p>
</li>
</ul></div>
<div class="paragraph"><p>So BDD really encourages you to write test code that seems to match well with
the business domain, and to use a layer of abstraction between the story of
your FT, and its implementation in code.</p></div>
</div>
<div class="sect2">
<h3 id="_contrasting_bdd_with_the_page_pattern">Contrasting BDD with the Page pattern</h3>
<div class="paragraph"><p>In
<a href="http://chimera.labs.oreilly.com/books/1234000000754/ch21.html">chapter 21</a>
of the book, I present an example of the "Page pattern", which is an
object-oriented approach to structuring your selenium tests.  Here&#8217;s a
reminder of what it looks like:</p></div>
<div class="listingblock sourcecode">
<div class="title">functional_tests/test_sharing.py</div>
<div class="content"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">.home_and_list_pages</span> <span class="kn">import</span> <span class="n">HomePage</span>
<span class="p">[</span><span class="o">...</span><span class="p">]</span>

<span class="k">class</span> <span class="nc">SharingTest</span><span class="p">(</span><span class="n">FunctionalTest</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">test_logged_in_users_lists_are_saved_as_my_lists</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c"># [...]</span>
        <span class="n">list_page</span> <span class="o">=</span> <span class="n">HomePage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">start_new_list</span><span class="p">(</span><span class="s">&#39;Get help&#39;</span><span class="p">)</span>

        <span class="c"># She notices a &quot;Share this list&quot; option</span>
        <span class="n">share_box</span> <span class="o">=</span> <span class="n">list_page</span><span class="o">.</span><span class="n">get_share_box</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assertEqual</span><span class="p">(</span>
            <span class="n">share_box</span><span class="o">.</span><span class="n">get_attribute</span><span class="p">(</span><span class="s">&#39;placeholder&#39;</span><span class="p">),</span>
            <span class="s">&#39;your-friend@example.com&#39;</span>
        <span class="p">)</span>

        <span class="c"># She shares her list.</span>
        <span class="c"># The page updates to say that it&#39;s shared with Oniciferous:</span>
        <span class="n">list_page</span><span class="o">.</span><span class="n">share_list_with</span><span class="p">(</span><span class="s">&#39;oniciferous@example.com&#39;</span><span class="p">)</span>

        <span class="c"># Oniciferous now goes to the lists page with his browser</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">browser</span> <span class="o">=</span> <span class="n">oni_browser</span>
        <span class="n">HomePage</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">go_to_home_page</span><span class="p">()</span><span class="o">.</span><span class="n">go_to_my_lists_page</span><span class="p">()</span>
</pre></div></div></div>
<div class="paragraph"><p>And the Page classes look like this:</p></div>
<div class="listingblock sourcecode">
<div class="title">functional_tests/home_and_lists_pages.py</div>
<div class="content"><div class="highlight"><pre><span class="k">class</span> <span class="nc">HomePage</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">test</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test</span> <span class="o">=</span> <span class="n">test</span>


    <span class="k">def</span> <span class="nf">go_to_home_page</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">server_url</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">wait_for</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_item_input</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>


    <span class="k">def</span> <span class="nf">get_item_input</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">browser</span><span class="o">.</span><span class="n">find_element_by_id</span><span class="p">(</span><span class="n">ITEM_INPUT_ID</span><span class="p">)</span>


    <span class="k">def</span> <span class="nf">start_new_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item_text</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">go_to_home_page</span><span class="p">()</span>
        <span class="n">inputbox</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_item_input</span><span class="p">()</span>
        <span class="n">inputbox</span><span class="o">.</span><span class="n">send_keys</span><span class="p">(</span><span class="n">item_text</span> <span class="o">+</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
        <span class="n">list_page</span> <span class="o">=</span> <span class="n">ListPage</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">test</span><span class="p">)</span>
        <span class="n">list_page</span><span class="o">.</span><span class="n">wait_for_new_item_in_list</span><span class="p">(</span><span class="n">item_text</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">list_page</span>


    <span class="k">def</span> <span class="nf">go_to_my_lists_page</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="p">[</span><span class="o">...</span><span class="p">]</span>
</pre></div></div></div>
<div class="paragraph"><p>So it&#8217;s definitely possible to implement a similar layer of abstraction,
and a sort of DSL, in inline-style FTs, whether it&#8217;s by using the Page
pattern or whatever structure you prefer&#8201;&#8212;&#8201;but now it&#8217;s a matter of
self-discipline, rather than having a framework that pushes you towards
it.</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre># Edith is a logged-in user
# She goes to the home page and starts a list
# She notices a "My lists" link, for the first time.
# She sees that her list is in there, named according to its
# first list item
# She decides to start another list, just to see
# Under "my lists", her new list appears
# She logs out.  The "My lists" option disappears</pre>
</div></div>
</div>
<div class="sect2">
<h3 id="_conclusions">Conclusions</h3>
<div class="paragraph"><p>I&#8217;ve only dipped my toes into the BDD world, so I&#8217;m hesitant to draw
any firm conclusions.</p></div>
<div class="paragraph"><p>I find the "forced" structuring of FTs into steps very appealing though&#8201;&#8212;&#8201;it looks like it has the potential to encourage a lot of reuse in your
FT code, and that it neatly separates concerns between describing the
story, and implementing it, and that it forces us to think about things
in terms of the business domain, rather than in terms of
what-we-need-to-do-with-selenium.</p></div>
<div class="paragraph"><p>On the other hand, I can also see potential for the Gherkin syntax to
get quite frustrating.  Compare how expressive and readable the
inline-style comments are, with the slightly awkward BDD feature:</p></div>
<div class="literalblock">
<div class="content monospaced">
<pre># Edith is a logged-in user
# She goes to the home page and starts a list
# She notices a "My lists" link, for the first time.
# She sees that her list is in there, named according to its
# first list item
# She decides to start another list, just to see
# Under "my lists", her new list appears
# She logs out.  The "My lists" option disappears</pre>
</div></div>
<div class="paragraph"><p>So that could definitely be an issue.  I also would like to see
how BDD scales once you have not just one or two features, and
four or five steps, but several dozen features and hundreds of
lines of steps code&#8230;</p></div>
<div class="paragraph"><p>I&#8217;d love to hear from people with more experience than me!  Have
you used BDD on a large project?  What are the challenges with
scaling it?   Is there a way of adding comments to a feature file?</p></div>
<div class="sidebarblock">
<div class="content">
<div class="title">BDD conclusions</div>
<div class="dlist"><dl>
<dt class="hdlist1">
Encourages structured, reusable test code
</dt>
<dd>
<p>
    By separating concerns, breaking your FTs out into the human-readable,
    Gherkin syntax "feature" file and a separate implementation of steps
    functions, BDD has the potential to encourage more reusable and manageable
    test code
</p>
</dd>
<dt class="hdlist1">
It may come at the expense of readability
</dt>
<dd>
<p>
    The Gherkin syntax, for all its attempt to be human-readable, is ultimately
    a constraint on human language, and so it may not capture nuance and intention
    as well as inline comments do.
</p>
</dd>
<dt class="hdlist1">
Will nonprogrammers write tests?
</dt>
<dd>
<p>
    I haven&#8217;t touched on one of the original promises of BDD, which is that
    nonprogrammers&#8201;&#8212;&#8201;business or client representatives perhaps&#8201;&#8212;&#8201;might
    actually write the Gherkin syntax.  I&#8217;m quite skeptical about whether
    this would actually work in the real world, but I don&#8217;t think that detracts
    from the other potential benefits of BDD.
</p>
</dd>
</dl></div>
</div></div>
</div>
</div>
</div>

        </div><!-- /.entry-content -->

    <div class="comments">
        <h3>Comments</h3>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
                var disqus_shortname = 'obeythetestinggoat';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>



    </div>
<div class="large-3 small-6 columns">
    <h6><a href="/pages/book.html">Read the book</a></h6>
    <p>
        I'm writing a book all about TDD and Web programming.
        <a href="/pages/book.html">Read the draft</a> and let me
        know what you think!
    </p>
</div>

<div class="large-3 small-6 columns">
    <h6><a href="/pages/reviews-and-testimonials.html">Reviews & Testimonials</a></h6>
   
    <p>
        <i>"Hands down the best teaching book I've ever read"</i> &mdash;
        <i>"Even the first 4 chapters were worth the money"</i> &mdash;
        <i>"Oh my gosh! This book is outstanding"</i> &mdash;
        <i>"The testing goat is my new friend"</i> &mdash;
        <a href="/pages/reviews-and-testimonials.html">Read more...</a>
    </p>

</div>


<div class="large-3 small-6 columns">
    <h6><a href="/pages/tdd-resources.html">Resources</a></h6>
    <p>A selection of links and videos about TDD, not necessarily all mine, eg <a href="http://pyvideo.org/video/1657/fully-test-driven-web-development-with-django-and">this tutorial
        at PyCon 2013</a>, how to <a href="http://arstechnica.com/information-technology/2013/03/how-can-i-motivate-coworkers-to-write-unit-tests/">motivate coworkers to write unit tests</a>, thoughts on <a href="http://pyvideo.org/video/699/testing-and-django">Django's test tools</a>, <a href="https://www.youtube.com/watch?v=tdNnN5yTIeM">London-style TDD</a> and <a href="/pages/tdd-resources.html">more</a>.
</div>


<div class="large-3 small-6 columns">
    <h6><a href="http://www.tdd-django-tutorial.com">Old TDD / Django Tutorial</a></h6>
    <p>
    This is my <a href="http://www.tdd-django-tutorial.com">old TDD tutorial</a>,
    which follows along with the official Django tutorial, but with full TDD.  It
    badly needs updating. Read the book instead!
    </p>
</div>

<div class="large-3 small-6 columns">
    <h6><a href="/pages/save-the-testing-goat-campaign.html">Save the Testing Goat Campaign</a></h6>
    <p>
    The campaign page, preserved for history, which led to the glorious presence
    of the Testing Goat on the front of the book.
    </p>
</div></div>

  <footer class="row">
    <div class="large-12 columns">
      <hr>
      <div class="row">
        <div class="large-8 columns">
            <p>
                <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a>
                &nbsp
                <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text" property="dct:title" rel="dct:type">Obey the Testing Goat website</span> 
                by <a xmlns:cc="http://creativecommons.org/ns#" href="http://www.obeythetestinggoat.com" property="cc:attributionName" rel="cc:attributionURL">Harry J.W. Percival</a> 
                is licensed under a 
                <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
                Site powered by <a href="http://getpelican.com/">Pelican</a>, and
                hosted on <a href="http://www.pythonanywhere.com">PythonAnywhere</a>
            </p>
       </div>

        <div class="large-4 columns">
          <ul class="inline-list right">
            <li><a href="/pages/book.html">Book</a></li>
            <li><a href="/pages/tdd-resources.html">Resources</a></li>
            <li>
                <a href="http://www.obeythetestinggoat.com/feeds/all.atom.xml" type="application/rss+xml"><i class="social foundicon-rss"></i> RSS</a></span>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <script src="/static/js/vendor/custom.modernizr.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

  <script>
  document.write('<script src=js/vendor/' +
  ('__proto__' in {} ? 'zepto' : 'jquery') +
  '.js><\/script>')
  </script>
  <script src="js/foundation.min.js"></script>
  <script>
    $(document).foundation();
  </script>
  <script type="text/javascript">
    $(window).load(function() {
      $('#featured').orbit({ fluid: '2x1' });
    });
  </script>


  <script>   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)   })(window,document,'script','//www.google-analytics.com/analytics.js','ga');    ga('create', 'UA-40928035-1', 'obeythetestinggoat.com');   ga('send', 'pageview');  </script> 
  <!-- End Footer -->

</body>
</html>